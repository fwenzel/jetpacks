<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
    <title>tabs</title>
    <style type="text/css" media="screen">
      div, input, ul, li { margin: 0; padding: 0; }
      #overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 50em;
      }
      #cmdline, #results {
        border: 1px solid #7e7e7e;
      }
      #cmdline, #cmdinput {
        background-color: #9e9e9e;
      }
      #cmdline {
        -moz-border-radius-topleft: 1em;
        -moz-border-radius-topright: 1em;
        border-bottom: 1px solid #000;
      }
      #cmdinput {
        font-family: Geneva, Tahoma, Verdana;
        font-size: 1.6em;
        text-shadow: #afafaf 0px 1px .2px;
        border: none;
        margin: 0.3em;
        width: 99%;
      }
      #results {
        background-color: #2b2b2b;
        border-top: none;
        height: 100%;
        min-height: 29em;
        padding-bottom: 1em;
        -moz-border-radius-bottomleft: 1em;
        -moz-border-radius-bottomright: 1em;
      }
      #results a {
        display: block;
        background-color: #808080;
        color: #000;
        border: 1px solid #a2a2a2;
        border-right: 1px solid #525252;
        border-bottom: 1px solid #525252;
        font-size: 1.1em;
        text-shadow: #afafaf 0px 1px .2px;
        text-decoration: none;
        padding: 1em;
      }
      #results a:focus {
        font-weight: bold;
        background-color: #c0c0c0;
        border: none;
        -moz-box-shadow: 0 0 0.3em inset;
        -moz-border-radius: 0.4em;
      }
    </style>
    <script src="http://jqueryjs.googlecode.com/files/jquery-1.3.2.min.js"
            type="text/javascript"></script>
    <script type="text/javascript" src="liquidmetal.js"></script>
  </head>
  <body>
    <div id="overlay">
      <div id="cmdline">
        <input id="cmdinput" type="text">
      </div>
      <div id="results">
        <ul></ul>
      </div>
    </div>
    <script type="text/javascript">
      var tabs = ["jquery-1.3.2.min.js - jqueryjs - jQuery 1.3.2 (Minified) - Google Code","I am Jetpack.","Google"];
      var e = document.querySelector('#cmdinput'),
          results = document.querySelector('#results ul');
      $(e).keyup(function(){
        var val = e.value;
        // DSU: rank all the tab names with the current input, filter out
        // the non-matching (score=0) and bad matches (<0.5), sort and
        // reverse so they're descending, then turn it into a list.
        // Oh yeah.
        ts = tabs.map(function(name) [LiquidMetal.score(name, val), name]).
            filter(function(a) a[0] > 0.5).sort().reverse().
            map(function(a) {
                var e = a[1]; 
                return '<li><a href="tab://' + e + '">' + e + '</a></li>';
            });
        results.innerHTML = ts.join('');
      }).keyup().focus();
    $(results).click(function(e){
        e.preventDefault();
        console.log(e.target.href.substring(6));
     });
    </script>
  </body>
</html>
